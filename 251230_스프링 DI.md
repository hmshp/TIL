## 스프링 의존성 주입(DI)
<img width="969" height="381" alt="image" src="https://github.com/user-attachments/assets/a7ae7327-81dd-4c40-b1fc-669ce1426934" />


### 스프링은 bean 객체를 1개만 만든다.
- 서블릿 컨테이너에서 관리하는 front controller는 요청을 `HelloController`에 맵핑해주기 위해 스프링 컨테이너에게 `HelloController` bean을 달라고 요청한다.
- 그러면 스프링 컨테이너는 오브젝트를 전달해 준다. (서블릿이 여러 개라서 여러 서블릿에서 `HelloController` bean 객체를 요청해도, 스프링 컨테이너는 **항상 각 bean별로 1개의 오브젝트만** 만들어두고 여러 서블릿에게 같은 오브젝트를 준다.
- 그래서 스프링은 싱글턴 패턴을 사용한 것과 같은 효과를 낸다.
(싱글턴 패턴을 사용하는 건 아니라는 말 같은데, 그렇게까지 자세히는 아직 잘 모르겠다)

### `HelloController`가 `AService`와 `BService` 중 어떤 클래스에 의존하고 있는지 어떻게 알 수 있을까?
- 위 이미지에서 `AService`와 `BService`는 `HelloService` 인터페이스를 구현하고 있다.
- 코드 레벨에서는 둘 중 어떤 클래스를 사용하든 차이가 없지만(둘 다 `HelloService` 인터페이스의 메소드를 상속하고 있으므로), 런타임에서는 `AService`를 사용하는 것과 `BService`를 사용하는 것 간에는 차이가 있다.
- 스프링 컨테이너에 메타 데이터(클래스명 등)와 POJO(자바 코드로 된 오브젝트)를 제공하면, 스프링이 이걸 bean으로 등록해서 관리해 준다.
- 만약 `AService`와 의존관계를 맺어줄 거라면 스프링 컨테이너(`ApplicationContext`)에 메타데이터를 전달할 때 `AService`라는 클래스명을 전달해주면 된다.(옛날 방식으로 한다면)
